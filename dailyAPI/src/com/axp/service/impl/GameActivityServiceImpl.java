package com.axp.service.impl;import java.util.List;import org.springframework.cache.annotation.Cacheable;import org.springframework.stereotype.Service;import com.axp.domain.GameActivity;import com.axp.domain.ProvinceEnum;import com.axp.service.GameActivityService;import com.axp.util.JsonResponseUtil;import com.axp.util.QueryModel;@Servicepublic class GameActivityServiceImpl extends BaseServiceImpl<GameActivity> implements  GameActivityService {		@Cacheable(value="zoneCache",key="#zoneId",condition="#zoneId!=null")	@Override	public GameActivity getZoneId(Integer zoneId) {		//通过定位没有找签到活动的, 再通过定位上级地区id 找签到活动		QueryModel model = new QueryModel();		model.clearQuery();		model.combPreEquals("isValid", true);		model.combPreEquals("provinceEnum.id", zoneId,"zoneId");		List<GameActivity> games = dateBaseDAO.findLists(GameActivity.class, model);		GameActivity game = new GameActivity();		if(games!=null && games.size()>0){ 			game = games.get(0);		}else{			ProvinceEnum provinceEnum = provinceEnumDao.findById(zoneId);			model.clearQuery();			model.combPreEquals("isValid", true);			model.combPreEquals("provinceEnum.id", provinceEnum.getProvinceEnum().getId(),"zoneId");			games = dateBaseDAO.findLists(GameActivity.class, model);			if(games!=null && games.size()>0){				game = games.get(0);			}		}		return game;	}						}